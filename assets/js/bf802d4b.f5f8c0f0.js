"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1243],{6353:(e,t,r)=>{r.d(t,{$:()=>n});const n={etcdCA:{keyPath:"${BASE_K8S_PATH}/pki/etcd/ca.key",crtPath:"${BASE_K8S_PATH}/pki/etcd/ca.crt",csrPath:"",crtConf:"${BASE_K8S_PATH}/openssl/etcd-ca.conf",keySize:"2048",cname:"etcd-ca"},kubernetesCA:{keyPath:"${BASE_K8S_PATH}/pki/ca.key",crtPath:"${BASE_K8S_PATH}/pki/ca.crt",csrPath:"",crtConf:"${BASE_K8S_PATH}/openssl/ca.conf",keySize:"2048",cname:"kubernetes"},frontProxyCA:{keyPath:"${BASE_K8S_PATH}/pki/front-proxy-ca.key",crtPath:"${BASE_K8S_PATH}/pki/front-proxy-ca.crt",csrPath:"",crtConf:"${BASE_K8S_PATH}/openssl/front-proxy-ca.conf",keySize:"2048",cname:"front-proxy-ca"},kubernetesControllerManagerClient:{keyPath:"${BASE_K8S_PATH}/kubeconfig/controller-manager-client-key.pem",crtPath:"${BASE_K8S_PATH}/kubeconfig/controller-manager-client.pem",csrPath:"${BASE_K8S_PATH}/openssl/csr/controller-manager-client.csr",crtConf:"${BASE_K8S_PATH}/openssl/controller-manager-client.conf",keySize:"2048",cname:"system:kube-controller-manager"},etcdClient:{keyPath:"${BASE_K8S_PATH}/pki/etcd/healthcheck-client.key",crtPath:"${BASE_K8S_PATH}/pki/etcd/healthcheck-client.crt",csrPath:"${BASE_K8S_PATH}/openssl/csr/etcd-client.csr",crtConf:"${BASE_K8S_PATH}/openssl/healthcheck-client.conf",keySize:"2048",cname:"kube-etcd-healthcheck-client"},etcdServer:{keyPath:"${BASE_K8S_PATH}/pki/etcd/server.key",crtPath:"${BASE_K8S_PATH}/pki/etcd/server.crt",csrPath:"${BASE_K8S_PATH}/openssl/csr/etcd-server.csr",crtConf:"${BASE_K8S_PATH}/openssl/etcd-server.conf",keySize:"2048",cname:""},etcdPeer:{keyPath:"${BASE_K8S_PATH}/pki/etcd/peer.key",crtPath:"${BASE_K8S_PATH}/pki/etcd/peer.crt",csrPath:"${BASE_K8S_PATH}/openssl/csr/etcd-peer.csr",crtConf:"${BASE_K8S_PATH}/openssl/etcd-peer.conf",keySize:"2048",cname:""},kubernetesKubeletClient:{keyPath:"${BASE_K8S_PATH}/pki/apiserver-kubelet-client.key",crtPath:"${BASE_K8S_PATH}/pki/apiserver-kubelet-client.crt",csrPath:"${BASE_K8S_PATH}/openssl/csr/apiserver-kubelet-client.csr",crtConf:"${BASE_K8S_PATH}/openssl/apiserver-kubelet-client.conf",keySize:"2048",cname:"kube-apiserver-kubelet-client"},kubernetesFrontProxyClient:{keyPath:"${BASE_K8S_PATH}/pki/front-proxy-client.key",crtPath:"${BASE_K8S_PATH}/pki/front-proxy-client.crt",csrPath:"${BASE_K8S_PATH}/openssl/csr/front-proxy-client.csr",crtConf:"${BASE_K8S_PATH}/openssl/front-proxy-client.conf",keySize:"2048",cname:"front-proxy-client"},kubernetesEtcdClient:{keyPath:"${BASE_K8S_PATH}/pki/apiserver-etcd-client.key",crtPath:"${BASE_K8S_PATH}/pki/apiserver-etcd-client.crt",csrPath:"${BASE_K8S_PATH}/openssl/csr/apiserver-etcd-client.csr",crtConf:"${BASE_K8S_PATH}/openssl/apiserver-etcd-client.conf",keySize:"2048",cname:"kube-apiserver-etcd-client"},kubernetesServer:{keyPath:"${BASE_K8S_PATH}/pki/apiserver.key",crtPath:"${BASE_K8S_PATH}/pki/apiserver.crt",csrPath:"${BASE_K8S_PATH}/openssl/csr/apiserver.csr",crtConf:"${BASE_K8S_PATH}/openssl/apiserver.conf",keySize:"2048",cname:"kube-apiserver"},kubernetesSuperAdminClient:{keyPath:"${BASE_K8S_PATH}/kubeconfig/super-admin.key",crtPath:"${BASE_K8S_PATH}/kubeconfig/super-admin.crt",csrPath:"${BASE_K8S_PATH}/openssl/csr/super-admin.csr",crtConf:"${BASE_K8S_PATH}/openssl/super-admin.conf",keySize:"2048",cname:"kubernetes-super-admin"},kubernetesAdminClient:{keyPath:"${BASE_K8S_PATH}/kubeconfig/admin.key",crtPath:"${BASE_K8S_PATH}/kubeconfig/admin.crt",csrPath:"${BASE_K8S_PATH}/openssl/csr/admin.csr",crtConf:"${BASE_K8S_PATH}/openssl/admin.conf",keySize:"2048",cname:"kubernetes-admin"},kubernetesSA:{keyPath:"${BASE_K8S_PATH}/pki/sa.key",crtPath:"${BASE_K8S_PATH}/pki/sa.pub",csrPath:"",crtConf:"",keySize:"2048",cname:""},kubeletClient:{keyPath:"${BASE_KUBELET_PATH}/pki/kubelet-client-key.pem",crtPath:"${BASE_KUBELET_PATH}/pki/kubelet-client.pem",csrPath:"${BASE_K8S_PATH}/openssl/csr/kubelet-client.csr",crtConf:"${BASE_K8S_PATH}/openssl/kubelet-client.conf",keySize:"2048",cname:""},kubeletServer:{keyPath:"${BASE_KUBELET_PATH}/pki/kubelet-server-key.pem",crtPath:"${BASE_KUBELET_PATH}/pki/kubelet-server.pem",csrPath:"${BASE_K8S_PATH}/openssl/csr/kubelet-server.csr",crtConf:"${BASE_K8S_PATH}/openssl/kubelet-server.conf",keySize:"2048",cname:""},kubeletCurrentClient:{keyPath:"",crtPath:"${BASE_KUBELET_PATH}/pki/kubelet-client-current.pem",csrPath:"",crtConf:"",keySize:"2048",cname:""},kubeletNowClient:{keyPath:"",crtPath:"${BASE_KUBELET_PATH}/pki/kubelet-client-$(date '+%Y-%m-%d-%H-%M-%S').pem",csrPath:"",crtConf:"",keySize:"2048",cname:""},kubeletCurrentServer:{keyPath:"",crtPath:"${BASE_KUBELET_PATH}/pki/kubelet-server-current.pem",csrPath:"",crtConf:"",keySize:"2048",cname:""},kubeletNowServer:{keyPath:"",crtPath:"${BASE_KUBELET_PATH}/pki/kubelet-server-$(date '+%Y-%m-%d-%H-%M-%S').pem",csrPath:"",crtConf:"",keySize:"2048",cname:""},kubernetesSchedulerClient:{keyPath:"${BASE_K8S_PATH}/kubeconfig/scheduler-client-key.pem",crtPath:"${BASE_K8S_PATH}/kubeconfig/scheduler-client.pem",csrPath:"${BASE_K8S_PATH}/openssl/csr/scheduler-client.csr",crtConf:"${BASE_K8S_PATH}/openssl/scheduler-client.conf",keySize:"2048",cname:"system:kube-scheduler"}}},7478:(e,t,r)=>{r.d(t,{M:()=>n});const n={baseDockerRegistry:{value:"registry.k8s.io"},pausedImage:{value:"pause:3.9"},kubernetesBaseDomain:{value:"example.com"},clusterName:{value:"example"},kubernetesClusterDomain:{value:"${CLUSTER_NAME}.${BASE_DOMAIN}"},kuberneteBaseFolderPath:{value:"/etc/kubernetes"},kuberneteKubeletFolderPath:{value:"/var/lib/kubelet"},criEndpoint:{value:"/var/run/containerd/containerd.sock"},kubernetesServiceCIDR:{value:"29.64.0.0/16"},kubernetesDNSAddress:{value:"29.64.0.10"},kubernetesDefaultInternalAddress:{value:"29.64.0.1"},virtualMachineLocalAddress:{value:"$(ip -4 addr show scope global | awk '/inet/ {print $2; exit}' | cut -d/ -f1)"},virtualMachineFullName:{value:"${HOST_NAME}.${CLUSTER_DOMAIN}"}}},31798:(e,t,r)=>{r.d(t,{h:()=>n});const n={etcdServer:{portNumber:"2379"},etcdPeer:{portNumber:"2380"},etcdMetricServer:{portNumber:"2381"},kubeAPIServer:{portNumber:"6443"},kubeControllerManager:{portNumber:"10257"},kubeScheduler:{portNumber:"10259"},kubeletHealthz:{portNumber:"10248"},kubeletServer:{portNumber:"10250"},kubeletReadOnlyPort:{portNumber:"10255"}}},63770:(e,t,r)=>{r.d(t,{M:()=>n});const n={kubernetes:{value:"v1.30.4"},etcd:{value:"3.5.12-0"},etcdctl:{value:"v3.5.5"},runc:{value:"v1.1.12"},containerd:{value:"1.7.19"},crictl:{value:"v1.30.0"}}},98e3:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>C,contentTitle:()=>S,default:()=>p,frontMatter:()=>l,metadata:()=>n,toc:()=>i});const n=JSON.parse('{"id":"tech-docs/kubernetes/environments","title":"environments","description":"Environments","source":"@site/docs/tech-docs/kubernetes/environments.mdx","sourceDirName":"tech-docs/kubernetes","slug":"/tech-docs/kubernetes/environments","permalink":"/in-cloud/tech-docs/kubernetes/environments","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var E=r(74848),_=r(28453),c=(r(96540),r(1775)),o=r(31798),s=r(7478),a=r(63770),T=r(6353);const l={},S=void 0,C={},i=[{value:"\u0411\u0430\u0437\u043e\u0432\u044b\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f:",id:"\u0431\u0430\u0437\u043e\u0432\u044b\u0435-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f",level:3},{value:"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432:",id:"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f-\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432",level:3},{value:"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0441\u0435\u0442\u0438:",id:"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f-\u0441\u0435\u0442\u0438",level:3},{value:"\u0412\u0435\u0440\u0441\u0438\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432",id:"\u0432\u0435\u0440\u0441\u0438\u0438-\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432",level:3},{value:"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f ETCD",id:"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f-etcd",level:3},{value:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439",id:"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435-\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439",level:3},{value:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 ETCD",id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430-\u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430-\u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f-\u0441-etcd",level:3},{value:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 KubeAPI",id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430-\u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430-\u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f-\u0441-kubeapi",level:3}];function A(e){const t={a:"a",admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",...(0,_.R)(),...e.components},{Details:r}=t;return r||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(r,{open:!0,children:[(0,E.jsx)("summary",{children:"Environments"}),(0,E.jsx)(t.h3,{id:"\u0431\u0430\u0437\u043e\u0432\u044b\u0435-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f",children:"\u0411\u0430\u0437\u043e\u0432\u044b\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f:"}),(0,E.jsx)(t.p,{children:"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0430\u0434\u0430\u0434\u0438\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u043d\u0438\u044f, \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0449\u0438\u0435 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432 \u0438 \u0441\u0430\u043c \u043a\u043b\u0430\u0441\u0442\u0435\u0440"}),(0,E.jsx)(c.A,{language:"bash",children:`export BASE_K8S_PATH="${s.M.kuberneteBaseFolderPath.value}"\nexport BASE_KUBELET_PATH="${s.M.kuberneteKubeletFolderPath.value}"\nexport CLUSTER_NAME="${s.M.clusterName.value}"\nexport CRI_ENDPOINT="${s.M.criEndpoint.value}"\nexport BASE_DOCKER_REGISTRY="${s.M.baseDockerRegistry.value}"\nexport PAUSED_IMAGE="${s.M.pausedImage.value}"\nexport BASE_DOMAIN="${s.M.kubernetesBaseDomain.value}"\nexport CLUSTER_DOMAIN="${s.M.kubernetesClusterDomain.value}"\nexport FULL_HOST_NAME="${s.M.virtualMachineFullName.value}"\n\n`}),(0,E.jsx)(t.h3,{id:"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f-\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432",children:"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432:"}),(0,E.jsx)(c.A,{language:"bash",children:`export ETCD_CA_CN="${T.$.etcdCA.cname}"\nexport ETCD_CA_CRT_PATH="${T.$.etcdCA.crtPath}"\nexport ETCD_CA_CSR_CONF="${T.$.etcdCA.crtConf}"\nexport ETCD_CA_KEY_PATH="${T.$.etcdCA.keyPath}"\nexport ETCD_CA_KEY_SIZE=${T.$.etcdCA.keySize}\n\nexport FRONT_PROXY_CA_CN="${T.$.frontProxyCA.cname}"\nexport FRONT_PROXY_CA_CRT_PATH="${T.$.frontProxyCA.crtPath}"\nexport FRONT_PROXY_CA_CSR_CONF="${T.$.frontProxyCA.crtConf}"\nexport FRONT_PROXY_CA_KEY_PATH="${T.$.frontProxyCA.keyPath}"\nexport FRONT_PROXY_CA_KEY_SIZE=${T.$.frontProxyCA.keySize}\n\nexport KUBERNETES_CA_CN="${T.$.kubernetesCA.cname}"\nexport KUBERNETES_CA_CRT_PATH="${T.$.kubernetesCA.crtPath}"\nexport KUBERNETES_CA_CSR_CONF="${T.$.kubernetesCA.crtConf}"\nexport KUBERNETES_CA_KEY_PATH="${T.$.kubernetesCA.keyPath}"\nexport KUBERNETES_CA_KEY_SIZE=${T.$.kubernetesCA.keySize}\n\nexport CONTROLLER_MANAGER_CLIENT_CN="${T.$.kubernetesControllerManagerClient.cname}"\nexport CONTROLLER_MANAGER_CLIENT_CRT_CONF="${T.$.kubernetesControllerManagerClient.crtConf}"\nexport CONTROLLER_MANAGER_CLIENT_CRT_PATH="${T.$.kubernetesControllerManagerClient.crtPath}"\nexport CONTROLLER_MANAGER_CLIENT_CSR_PATH="${T.$.kubernetesControllerManagerClient.csrPath}"\nexport CONTROLLER_MANAGER_CLIENT_KEY_PATH="${T.$.kubernetesControllerManagerClient.keyPath}"\nexport CONTROLLER_MANAGER_CLIENT_KEY_SIZE=${T.$.kubernetesControllerManagerClient.keySize}\n\nexport ETCD_CLIENT_CN="${T.$.etcdClient.cname}"\nexport ETCD_CLIENT_CRT_CONF="${T.$.etcdClient.crtConf}"\nexport ETCD_CLIENT_CRT_PATH="${T.$.etcdClient.crtPath}"\nexport ETCD_CLIENT_CSR_PATH="${T.$.etcdClient.csrPath}"\nexport ETCD_CLIENT_KEY_PATH="${T.$.etcdClient.keyPath}"\nexport ETCD_CLIENT_KEY_SIZE=${T.$.etcdClient.keySize}\n\nexport ETCD_PEER_CRT_CONF="${T.$.etcdPeer.crtConf}"\nexport ETCD_PEER_CRT_PATH="${T.$.etcdPeer.crtPath}"\nexport ETCD_PEER_CSR_PATH="${T.$.etcdPeer.csrPath}"\nexport ETCD_PEER_KEY_PATH="${T.$.etcdPeer.keyPath}"\nexport ETCD_PEER_KEY_SIZE=${T.$.etcdPeer.keySize}\n\nexport ETCD_SERVER_CRT_CONF="${T.$.etcdServer.crtConf}"\nexport ETCD_SERVER_CRT_PATH="${T.$.etcdServer.crtPath}"\nexport ETCD_SERVER_CSR_PATH="${T.$.etcdServer.csrPath}"\nexport ETCD_SERVER_KEY_PATH="${T.$.etcdServer.keyPath}"\nexport ETCD_SERVER_KEY_SIZE=${T.$.etcdServer.keySize}\n\nexport KUBELET_CLIENT_CRT_CONF="${T.$.kubeletClient.crtConf}"\nexport KUBELET_CLIENT_CRT_PATH="${T.$.kubeletClient.crtPath}"\nexport KUBELET_CLIENT_CSR_PATH="${T.$.kubeletClient.csrPath}"\nexport KUBELET_CLIENT_KEY_PATH="${T.$.kubeletClient.keyPath}"\nexport KUBELET_CLIENT_KEY_SIZE=${T.$.kubeletClient.keySize}\n\nexport KUBELET_SERVER_CRT_CONF="${T.$.kubeletServer.crtConf}"\nexport KUBELET_SERVER_CRT_PATH="${T.$.kubeletServer.crtPath}"\nexport KUBELET_SERVER_CSR_PATH="${T.$.kubeletServer.csrPath}"\nexport KUBELET_SERVER_KEY_PATH="${T.$.kubeletServer.keyPath}"\nexport KUBELET_SERVER_KEY_SIZE=${T.$.kubeletServer.keySize}\n\nexport KUBERNETES_ADMIN_CLIENT_CN="${T.$.kubernetesAdminClient.cname}"\nexport KUBERNETES_ADMIN_CLIENT_CRT_CONF="${T.$.kubernetesAdminClient.crtConf}"\nexport KUBERNETES_ADMIN_CLIENT_CRT_PATH="${T.$.kubernetesAdminClient.crtPath}"\nexport KUBERNETES_ADMIN_CLIENT_CSR_PATH="${T.$.kubernetesAdminClient.csrPath}"\nexport KUBERNETES_ADMIN_CLIENT_KEY_PATH="${T.$.kubernetesAdminClient.keyPath}"\nexport KUBERNETES_ADMIN_CLIENT_KEY_SIZE=${T.$.kubernetesAdminClient.keySize}\n\nexport KUBERNETES_ETCD_CLIENT_CN="${T.$.kubernetesEtcdClient.cname}"\nexport KUBERNETES_ETCD_CLIENT_CRT_CONF="${T.$.kubernetesEtcdClient.crtConf}"\nexport KUBERNETES_ETCD_CLIENT_CRT_PATH="${T.$.kubernetesEtcdClient.crtPath}"\nexport KUBERNETES_ETCD_CLIENT_CSR_PATH="${T.$.kubernetesEtcdClient.csrPath}"\nexport KUBERNETES_ETCD_CLIENT_KEY_PATH="${T.$.kubernetesEtcdClient.keyPath}"\nexport KUBERNETES_ETCD_CLIENT_KEY_SIZE=${T.$.kubernetesEtcdClient.keySize}\n\nexport KUBERNETES_FRONT_PROXY_CLIENT_CN="${T.$.kubernetesFrontProxyClient.cname}"\nexport KUBERNETES_FRONT_PROXY_CLIENT_CRT_CONF="${T.$.kubernetesFrontProxyClient.crtConf}"\nexport KUBERNETES_FRONT_PROXY_CLIENT_CRT_PATH="${T.$.kubernetesFrontProxyClient.crtPath}"\nexport KUBERNETES_FRONT_PROXY_CLIENT_CSR_PATH="${T.$.kubernetesFrontProxyClient.csrPath}"\nexport KUBERNETES_FRONT_PROXY_CLIENT_KEY_PATH="${T.$.kubernetesFrontProxyClient.keyPath}"\nexport KUBERNETES_FRONT_PROXY_CLIENT_KEY_SIZE=${T.$.kubernetesFrontProxyClient.keySize}\n\nexport KUBERNETES_KUBELET_CLIENT_CN="${T.$.kubernetesKubeletClient.cname}"\nexport KUBERNETES_KUBELET_CLIENT_CRT_CONF="${T.$.kubernetesKubeletClient.crtConf}"\nexport KUBERNETES_KUBELET_CLIENT_CRT_PATH="${T.$.kubernetesKubeletClient.crtPath}"\nexport KUBERNETES_KUBELET_CLIENT_CSR_PATH="${T.$.kubernetesKubeletClient.csrPath}"\nexport KUBERNETES_KUBELET_CLIENT_KEY_PATH="${T.$.kubernetesKubeletClient.keyPath}"\nexport KUBERNETES_KUBELET_CLIENT_KEY_SIZE=${T.$.kubernetesKubeletClient.keySize}\n\nexport KUBERNETES_SERVER_CN="${T.$.kubernetesServer.cname}"\nexport KUBERNETES_SERVER_CRT_CONF="${T.$.kubernetesServer.crtConf}"\nexport KUBERNETES_SERVER_CRT_PATH="${T.$.kubernetesServer.crtPath}"\nexport KUBERNETES_SERVER_CSR_PATH="${T.$.kubernetesServer.csrPath}"\nexport KUBERNETES_SERVER_KEY_PATH="${T.$.kubernetesServer.keyPath}"\nexport KUBERNETES_SERVER_KEY_SIZE=${T.$.kubernetesServer.keySize}\n\nexport KUBERNETES_SUPER_ADMIN_CLIENT_CN="${T.$.kubernetesSuperAdminClient.cname}"\nexport KUBERNETES_SUPER_ADMIN_CLIENT_CRT_CONF="${T.$.kubernetesSuperAdminClient.crtConf}"\nexport KUBERNETES_SUPER_ADMIN_CLIENT_CRT_PATH="${T.$.kubernetesSuperAdminClient.crtPath}"\nexport KUBERNETES_SUPER_ADMIN_CLIENT_CSR_PATH="${T.$.kubernetesSuperAdminClient.csrPath}"\nexport KUBERNETES_SUPER_ADMIN_CLIENT_KEY_PATH="${T.$.kubernetesSuperAdminClient.keyPath}"\nexport KUBERNETES_SUPER_ADMIN_CLIENT_KEY_SIZE=${T.$.kubernetesSuperAdminClient.keySize}\n\nexport SCHEDULER_CLIENT_CN="${T.$.kubernetesSchedulerClient.cname}"\nexport KUBERNETES_SCHEDULER_CLIENT_CRT_CONF="${T.$.kubernetesSchedulerClient.crtConf}"\nexport SCHEDULER_CLIENT_CRT_PATH="${T.$.kubernetesSchedulerClient.crtPath}"\nexport SCHEDULER_CLIENT_CSR_PATH="${T.$.kubernetesSchedulerClient.csrPath}"\nexport SCHEDULER_CLIENT_KEY_PATH="${T.$.kubernetesSchedulerClient.keyPath}"\nexport SCHEDULER_CLIENT_KEY_SIZE=${T.$.kubernetesSchedulerClient.keySize}\n\nexport KUBERNETES_SERVICE_ACCOUNT_CRT_PATH="${T.$.kubernetesSA.crtPath}"\nexport KUBERNETES_SERVICE_ACCOUNT_KEY_PATH="${T.$.kubernetesSA.keyPath}"\n\nexport KUBELET_CURRENT_CLIENT_CRT_PATH="${T.$.kubeletCurrentClient.crtPath}"\nexport KUBELET_CURRENT_SERVER_CRT_PATH="${T.$.kubeletCurrentServer.crtPath}"\n\n`}),(0,E.jsx)(t.p,{children:"kubernetesClusterDomain"}),(0,E.jsx)(t.h3,{id:"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f-\u0441\u0435\u0442\u0438",children:"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0441\u0435\u0442\u0438:"}),(0,E.jsx)(t.admonition,{type:"warning",children:(0,E.jsx)(t.p,{children:"\u041f\u0440\u043e\u0441\u044c\u0431\u0430 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u044f \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043b \u0442\u0443\u0442 \u043f\u043e\u0434\u0441\u0435\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0434\u043e\u0432, \u0442\u043a \u043f\u043e \u043c\u043e\u0435\u043c\u0443 \u043c\u043d\u0435\u043d\u0438\u044e \u044d\u0442\u0438\u043c \u0434\u043e\u043b\u0436\u0435\u043d \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u043f\u043b\u0430\u0433\u0438\u043d, \u0430 \u043d\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0435\u0433\u043e \u043a\u043e\u043d\u0442\u0443\u0440\u0430."})}),(0,E.jsx)(c.A,{language:"bash",children:`export SERVICE_CIDR="${s.M.kubernetesServiceCIDR.value}"\nexport SERVICE_DNS="${s.M.kubernetesDNSAddress.value}"\nexport SERVICE_KUBE_API="${s.M.kubernetesDefaultInternalAddress.value}"\nexport MACHINE_LOCAL_ADDRESS=${s.M.virtualMachineLocalAddress.value}\n`}),(0,E.jsx)(t.p,{children:"\u0417\u0430\u0440\u0430\u043d\u0435\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043b\u0443\u0448\u0430\u044e\u0449\u0438\u0445 \u043f\u043e\u0440\u0442\u043e\u0432, \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u043c \u043f\u043e\u043b\u0435\u0437\u043d\u044b \u0434\u043b\u044f \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u043a\u0442\u043e \u0447\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442"}),(0,E.jsx)(c.A,{language:"bash",children:`export ETCD_METRICS_PORT=${o.h.etcdMetricServer.portNumber}\nexport ETCD_PEER_PORT=${o.h.etcdPeer.portNumber}\nexport ETCD_SERVER_PORT=${o.h.etcdServer.portNumber}\nexport KUBE_APISERVER_PORT=${o.h.kubeAPIServer.portNumber}\nexport KUBE_CONTROLLER_MANAGER_PORT=${o.h.kubeControllerManager.portNumber}\nexport KUBELET_HEALTHZ_PORT=${o.h.kubeletHealthz.portNumber}\nexport KUBELET_READ_ONLY_PORT=${o.h.kubeletReadOnlyPort.portNumber}\nexport KUBELET_SERVER_PORT=${o.h.kubeletServer.portNumber}\nexport KUBE_SCHEDULER_PORT=${o.h.kubeScheduler.portNumber}\n`}),(0,E.jsx)(t.h3,{id:"\u0432\u0435\u0440\u0441\u0438\u0438-\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432",children:"\u0412\u0435\u0440\u0441\u0438\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432"}),(0,E.jsx)(c.A,{language:"bash",children:`export RUNC_VERSION="${a.M.runc.value}"\nexport KUBERNETES_VERSION="${a.M.kubernetes.value}"\nexport ETCD_TOOL_VERSION="${a.M.etcdctl.value}"\nexport ETCD_VERSION="${a.M.etcd.value}"\nexport CONTAINERD_VERSION="${a.M.containerd.value}"\nexport CRICTL_VERSION="${a.M.crictl.value}"\n`}),(0,E.jsx)(t.h3,{id:"\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f-etcd",children:"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f ETCD"}),(0,E.jsx)(t.pre,{children:(0,E.jsx)(t.code,{className:"language-bash",children:'export ETCD_INITIAL_CLUSTER="${FULL_HOST_NAME}=https://${MACHINE_LOCAL_ADDRESS}:${ETCD_PEER_PORT}"\nexport ETCD_SERVERS="https://127.0.0.1:${ETCD_SERVER_PORT}"\n'})}),(0,E.jsx)(t.h3,{id:"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435-\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439"}),(0,E.jsx)(c.A,{language:"bash",children:"mkdir -p ${BASE_K8S_PATH}\nmkdir -p ${BASE_K8S_PATH}/kubeconfig\nmkdir -p ${BASE_K8S_PATH}/manifests\nmkdir -p ${BASE_K8S_PATH}/openssl\nmkdir -p ${BASE_K8S_PATH}/openssl/csr\nmkdir -p ${BASE_K8S_PATH}/pki\nmkdir -p ${BASE_K8S_PATH}/pki/etcd\nmkdir -p ${BASE_KUBELET_PATH}\nmkdir -p ${BASE_KUBELET_PATH}/pki\nmkdir -p /usr/lib/systemd/system/kubelet.service.d\nmkdir -p /tmp/containerd\nmkdir -p /etc/containerd\nmkdir -p /etc/containerd/conf.d\nmkdir -p $HOME/.kube\n"}),(0,E.jsx)(t.h3,{id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430-\u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430-\u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f-\u0441-etcd",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 ETCD"}),(0,E.jsx)(c.A,{language:"bash",children:`cat <<'EOF' >> ~/.bashrc\nexport BASE_K8S_PATH="${s.M.kuberneteBaseFolderPath.value}"\nexport ETCDCTL_CERT="${T.$.etcdPeer.crtPath}"\nexport ETCDCTL_KEY="${T.$.etcdPeer.keyPath}"\nexport ETCDCTL_CACERT="${T.$.etcdCA.crtPath}"\nexport ETCD_SERVER_PORT="${o.h.etcdServer.portNumber}"\n\netcd_endpoints () {\nexport ENDPOINTS=$(\netcdctl --endpoints=127.0.0.1:\${ETCD_SERVER_PORT} member list |\nawk '{print $5}' |\nsed "s/,//" |\nsed "s/ /,/g"\n)\n}\n\nestat () {\netcd_endpoints\netcdctl --write-out=table --endpoints=$ENDPOINTS endpoint status\n}\nEOF\n\nsource ~/.bashrc\n`}),(0,E.jsx)(t.h3,{id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430-\u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430-\u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f-\u0441-kubeapi",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 KubeAPI"}),(0,E.jsxs)(t.p,{children:["\u0414\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0443 \u043d\u0430\u043c \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f ",(0,E.jsx)(t.code,{children:"KUBECONFIG"})]}),(0,E.jsx)(c.A,{language:"bash",children:"\nln -s /etc/kubernetes/admin.conf $HOME/.kube/config\n"})]}),"\n",(0,E.jsx)(t.admonition,{type:"note",children:(0,E.jsxs)(t.p,{children:["\u0415\u0441\u043b\u0438 \u0432\u044b \u043a\u043e\u0433\u0434\u0430-\u043b\u0438\u0431\u043e \u0437\u0430\u0433\u043b\u044f\u0434\u044b\u0432\u0430\u043b\u0438 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u043e\u0442 ",(0,E.jsx)(t.a,{href:"https://github.com/kelseyhightower/kubernetes-the-hard-way",children:"\u041a\u0435\u043b\u0441\u0438 \u0425\u0430\u0439\u0442\u0430\u0443\u044d\u0440\u0430"}),", \u0442\u043e, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0437\u0430\u043c\u0435\u0442\u0438\u043b\u0438, \u0447\u0442\u043e \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u0430\u0445 \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0443\u0437\u043b\u043e\u0432. \u042d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434, \u0431\u0435\u0437\u0443\u0441\u043b\u043e\u0432\u043d\u043e, \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u043d\u043e \u0435\u0441\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431. \u0427\u0442\u043e\u0431\u044b \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0443\u044e \u0448\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u044e \u0431\u043e\u043b\u0435\u0435 \u0433\u0438\u0431\u043a\u043e\u0439, \u043b\u0443\u0447\u0448\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0440\u0430\u043d\u0435\u0435 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0435 FQDN-\u043c\u0430\u0441\u043a\u0438, \u043a\u0430\u043a \u044f \u0443\u0436\u0435 \u0443\u043f\u043e\u043c\u0438\u043d\u0430\u043b \u0434\u043b\u044f \u043c\u0430\u0441\u0442\u0435\u0440\u043e\u0432 \u0432\u044b\u0448\u0435 ",(0,E.jsx)(t.code,{children:"master-${INDEX}.${CLUSTER_NAME}.${BASE_DOMAIN}"}),"."]})})]})}function p(e={}){const{wrapper:t}={...(0,_.R)(),...e.components};return t?(0,E.jsx)(t,{...e,children:(0,E.jsx)(A,{...e})}):A(e)}}}]);