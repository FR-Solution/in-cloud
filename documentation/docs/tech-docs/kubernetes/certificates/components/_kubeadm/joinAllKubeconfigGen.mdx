import { CUSTOM_VALUE } from '@site/src/constants/kubernetes/customValue'

import CodeBlock from '@theme/CodeBlock'
import dedent from 'dedent'

<h4>Переменные окружния</h4>
<CodeBlock language="bash">
    {dedent`
        export BASE_K8S_PATH="${CUSTOM_VALUE.kuberneteBaseFolderPath.value}"
    `}
</CodeBlock>

<h4>Генерация манифеста</h4>
<CodeBlock language="bash">
    {dedent`
        kubeadm join phase control-plane-prepare kubeconfig \
            --config=$\{BASE_K8S_PATH}/kubeadm.conf
    `}
</CodeBlock>


:::note
<CodeBlock language="bash">
    {dedent`
        [preflight] Reading configuration from the cluster...
        [preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml'
        [kubeconfig] Generating kubeconfig files
        [kubeconfig] Using kubeconfig folder "/etc/kubernetes"
        [kubeconfig] Writing "admin.conf" kubeconfig file
        [kubeconfig] Writing "controller-manager.conf" kubeconfig file
        [kubeconfig] Writing "scheduler.conf" kubeconfig file
    `}
</CodeBlock>
:::
